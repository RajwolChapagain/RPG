[gd_scene load_steps=26 format=4 uid="uid://dy5qxs6qxwvwi"]

[ext_resource type="Script" uid="uid://b1fvsmwksdmq2" path="res://scripts/levels/level1.gd" id="1_qxy0u"]
[ext_resource type="PackedScene" uid="uid://bitedxhspi8i5" path="res://scenes/dual_grid.tscn" id="1_x42e6"]
[ext_resource type="PackedScene" uid="uid://ccy0aydyv2sxd" path="res://scenes/enemy.tscn" id="2_6761a"]
[ext_resource type="Script" uid="uid://dbtdwrocpsv30" path="res://scripts/resource_scripts/base_stats.gd" id="3_sk5k4"]
[ext_resource type="Resource" uid="uid://c3bvbxqpkkgu3" path="res://resources/knight_base_stats.tres" id="3_wtwp4"]
[ext_resource type="Resource" uid="uid://biubxrgae4cha" path="res://resources/cleric_base_stats.tres" id="4_iwr0g"]
[ext_resource type="PackedScene" uid="uid://cglapshtkljpc" path="res://scenes/npc.tscn" id="4_oc4kc"]
[ext_resource type="Resource" uid="uid://bgg065a045ww" path="res://resources/lady_base_stats.tres" id="5_bahl2"]
[ext_resource type="Resource" uid="uid://d3kyf2naa3duo" path="res://resources/mage_base_stats.tres" id="6_np2pn"]
[ext_resource type="Script" uid="uid://due732el6o1b8" path="res://scripts/resource_scripts/item.gd" id="6_s8va5"]
[ext_resource type="Resource" uid="uid://b2wy6qk2i7dnk" path="res://resources/items/bajra.tres" id="7_dga24"]
[ext_resource type="Resource" uid="uid://cym67rsdldl6j" path="res://resources/archer_base_stats.tres" id="7_v6ha0"]
[ext_resource type="Resource" uid="uid://bin2fs1gqdd6w" path="res://resources/items/doloris's_necklace.tres" id="8_dga24"]
[ext_resource type="PackedScene" uid="uid://d0rp7rw1dxv20" path="res://scenes/wall_tile_map.tscn" id="10_qxy0u"]
[ext_resource type="Texture2D" uid="uid://bitm1sjjpfpsu" path="res://assets/sprites/monsters/smallmonster1.webp" id="11_bahl2"]
[ext_resource type="Texture2D" uid="uid://dqpa8dgwo21vc" path="res://assets/sprites/monsters/catapace.webp" id="12_np2pn"]
[ext_resource type="Texture2D" uid="uid://ctu601yhl7h7c" path="res://assets/sprites/monsters/coyostrel.png" id="14_bahl2"]
[ext_resource type="Texture2D" uid="uid://onsf4e7pukfl" path="res://assets/sprites/goblin_placeholder.png" id="16_np2pn"]

[sub_resource type="Resource" id="Resource_iwr0g"]
script = ExtResource("3_sk5k4")
name = "Winged Capybara"
attack_damage = 10
max_hp = 100
hp = 100
crit = 10
dodge = 10
accuracy = 10
battle_sprite = ExtResource("11_bahl2")

[sub_resource type="Resource" id="Resource_v6ha0"]
script = ExtResource("3_sk5k4")
name = "Winged Capybara"
attack_damage = 10
max_hp = 100
hp = 100
crit = 10
dodge = 10
accuracy = 10
battle_sprite = ExtResource("11_bahl2")

[sub_resource type="Resource" id="Resource_gmpev"]
script = ExtResource("3_sk5k4")
name = "Catapace"
attack_damage = 30
max_hp = 130
hp = 130
defence = 15
crit = 15
dodge = 20
accuracy = 20
battle_sprite = ExtResource("12_np2pn")
metadata/_custom_type_script = "uid://dbtdwrocpsv30"

[sub_resource type="Resource" id="Resource_mkypq"]
script = ExtResource("3_sk5k4")
name = "Winged Capybara"
attack_damage = 10
max_hp = 100
hp = 100
crit = 10
dodge = 10
accuracy = 10
battle_sprite = ExtResource("11_bahl2")

[sub_resource type="Resource" id="Resource_np2pn"]
script = ExtResource("3_sk5k4")
name = "Catapace"
attack_damage = 30
max_hp = 130
hp = 130
defence = 15
crit = 15
dodge = 20
accuracy = 20
battle_sprite = ExtResource("12_np2pn")
metadata/_custom_type_script = "uid://dbtdwrocpsv30"

[sub_resource type="Resource" id="Resource_ndtll"]
script = ExtResource("3_sk5k4")
name = "Coyostrel"
attack_damage = 20
max_hp = 150
hp = 150
defence = 5
crit = 15
dodge = 30
accuracy = 40
battle_sprite = ExtResource("14_bahl2")
metadata/_custom_type_script = "uid://dbtdwrocpsv30"

[sub_resource type="Resource" id="Resource_7h2jl"]
script = ExtResource("3_sk5k4")
name = "Snake"
attack_damage = 50
max_hp = 200
hp = 200
defence = 20
crit = 10
dodge = 15
accuracy = 10
battle_sprite = ExtResource("16_np2pn")
metadata/_custom_type_script = "uid://dbtdwrocpsv30"

[node name="Level1" type="Node"]
script = ExtResource("1_qxy0u")
character_name_to_base_stats = Dictionary[String, ExtResource("3_sk5k4")]({
"Einar": ExtResource("7_v6ha0"),
"Josephine": ExtResource("5_bahl2"),
"Lachlan": ExtResource("6_np2pn"),
"Magda": ExtResource("4_iwr0g"),
"Rachelle": ExtResource("3_wtwp4")
})
level_number = null

[node name="DualGrid" parent="." instance=ExtResource("1_x42e6")]

[node name="WorldGrid" parent="DualGrid" index="0"]
visible = false
tile_map_data = PackedByteArray("AAATAAEAAAAAAAAAAAATAAIAAAAAAAAAAAATAAMAAAAAAAAAAAATAAQAAAAAAAAAAAAPAAMAAAAAAAAAAAAPAAIAAAAAAAAAAAAPAAEAAAAAAAAAAAAQAAEAAAAAAAAAAAAQAAIAAAAAAAAAAAAQAAMAAAAAAAAAAAAQAAQAAAAAAAAAAAARAAQAAAAAAAAAAAARAAMAAAAAAAAAAAARAAIAAAAAAAAAAAARAAEAAAAAAAAAAAASAAEAAAAAAAAAAAASAAIAAAAAAAAAAAASAAMAAAAAAAAAAAASAAQAAAAAAAAAAAAPAAQAAAAAAAAAAAAUAAEAAAAAAAAAAAAUAAIAAAAAAAAAAAAUAAMAAAAAAAAAAAAUAAQAAAAAAAAAAAANAAEAAAAAAAAAAAANAAIAAAAAAAAAAAANAAMAAAAAAAAAAAANAAQAAAAAAAAAAAANAAUAAAAAAAAAAAANAAYAAAAAAAAAAAANAAcAAAAAAAAAAAAOAAEAAAAAAAAAAAAOAAIAAAAAAAAAAAAOAAMAAAAAAAAAAAAOAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAUAAAAAAAAAAAABAAAAAAAAAAAAAAABAAEAAAAAAAAAAAABAAIAAAAAAAAAAAABAAMAAAAAAAAAAAABAAQAAAAAAAAAAAABAAUAAAAAAAAAAAACAAAAAAAAAAAAAAACAAEAAAAAAAAAAAACAAIAAAAAAAAAAAACAAMAAAAAAAAAAAACAAQAAAAAAAAAAAACAAUAAAAAAAAAAAADAAAAAAAAAAAAAAADAAEAAAAAAAAAAAADAAIAAAAAAAAAAAADAAMAAAAAAAAAAAADAAQAAAAAAAAAAAADAAUAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAEAAAAAAAAAAAAEAAIAAAAAAAAAAAAEAAMAAAAAAAAAAAAEAAQAAAAAAAAAAAAEAAUAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAEAAAAAAAAAAAAFAAIAAAAAAAAAAAAFAAMAAAAAAAAAAAAFAAQAAAAAAAAAAAAFAAUAAAAAAAAAAAAGAAAAAAAAAAAAAAAGAAEAAAAAAAAAAAAGAAIAAAAAAAAAAAAGAAMAAAAAAAAAAAAGAAQAAAAAAAAAAAAGAAUAAAAAAAAAAAAHAAEAAAAAAAAAAAAHAAIAAAAAAAAAAAAHAAMAAAAAAAAAAAAHAAQAAAAAAAAAAAAIAAEAAAAAAAAAAAAIAAIAAAAAAAAAAAAIAAMAAAAAAAAAAAAIAAQAAAAAAAAAAAAJAAEAAAAAAAAAAAAJAAIAAAAAAAAAAAAJAAMAAAAAAAAAAAAJAAQAAAAAAAAAAAAKAAEAAAAAAAAAAAAKAAIAAAAAAAAAAAAKAAMAAAAAAAAAAAAKAAQAAAAAAAAAAAALAAEAAAAAAAAAAAALAAIAAAAAAAAAAAALAAMAAAAAAAAAAAALAAQAAAAAAAAAAAALAAUAAAAAAAAAAAAMAAEAAAAAAAAAAAAMAAIAAAAAAAAAAAAMAAMAAAAAAAAAAAAMAAQAAAAAAAAAAAAMAAUAAAAAAAAAAAALAAYAAAAAAAAAAAAMAAYAAAAAAAAAAAAMAAcAAAAAAAAAAAALAAcAAAAAAAAAAAAVAAIAAAAAAAAAAAAWAAIAAAAAAAAAAAAXAAIAAAAAAAAAAAAVAAMAAAAAAAAAAAAVAAQAAAAAAAAAAAAWAAMAAAAAAAAAAAAWAAQAAAAAAAAAAAAXAAMAAAAAAAAAAAAXAAQAAAAAAAAAAAAYAAIAAAAAAAAAAAAYAAMAAAAAAAAAAAAYAAQAAAAAAAAAAAAXAP7/AAAAAAAAAAAXAP//AAAAAAAAAAAXAAAAAAAAAAAAAAAXAAEAAAAAAAAAAAAXAAUAAAAAAAAAAAAXAAYAAAAAAAAAAAAXAAcAAAAAAAAAAAAYAP7/AAAAAAAAAAAYAP//AAAAAAAAAAAYAAAAAAAAAAAAAAAYAAEAAAAAAAAAAAAYAAUAAAAAAAAAAAAYAAYAAAAAAAAAAAAYAAcAAAAAAAAAAAAZAP7/AAAAAAAAAAAZAP//AAAAAAAAAAAZAAAAAAAAAAAAAAAZAAEAAAAAAAAAAAAZAAIAAAAAAAAAAAAZAAMAAAAAAAAAAAAZAAQAAAAAAAAAAAAZAAUAAAAAAAAAAAAZAAYAAAAAAAAAAAAZAAcAAAAAAAAAAAAaAP7/AAAAAAAAAAAaAP//AAAAAAAAAAAaAAAAAAAAAAAAAAAaAAEAAAAAAAAAAAAaAAIAAAAAAAAAAAAaAAMAAAAAAAAAAAAaAAQAAAAAAAAAAAAaAAUAAAAAAAAAAAAaAAYAAAAAAAAAAAAaAAcAAAAAAAAAAAAbAP7/AAAAAAAAAAAbAP//AAAAAAAAAAAbAAAAAAAAAAAAAAAbAAEAAAAAAAAAAAAbAAIAAAAAAAAAAAAbAAMAAAAAAAAAAAAbAAQAAAAAAAAAAAAbAAUAAAAAAAAAAAAbAAYAAAAAAAAAAAAbAAcAAAAAAAAAAAAcAP7/AAAAAAAAAAAcAP//AAAAAAAAAAAcAAAAAAAAAAAAAAAcAAEAAAAAAAAAAAAcAAIAAAAAAAAAAAAcAAMAAAAAAAAAAAAcAAQAAAAAAAAAAAAcAAUAAAAAAAAAAAAcAAYAAAAAAAAAAAAcAAcAAAAAAAAAAAAdAP7/AAAAAAAAAAAdAP//AAAAAAAAAAAdAAAAAAAAAAAAAAAdAAEAAAAAAAAAAAAdAAIAAAAAAAAAAAAdAAMAAAAAAAAAAAAdAAQAAAAAAAAAAAAdAAUAAAAAAAAAAAAdAAYAAAAAAAAAAAAdAAcAAAAAAAAAAAAeAP7/AAAAAAAAAAAeAP//AAAAAAAAAAAeAAAAAAAAAAAAAAAeAAEAAAAAAAAAAAAeAAIAAAAAAAAAAAAeAAMAAAAAAAAAAAAeAAQAAAAAAAAAAAAeAAUAAAAAAAAAAAAeAAYAAAAAAAAAAAAeAAcAAAAAAAAAAAAfAP7/AAAAAAAAAAAfAP//AAAAAAAAAAAfAAAAAAAAAAAAAAAfAAEAAAAAAAAAAAAfAAIAAAAAAAAAAAAfAAMAAAAAAAAAAAAfAAQAAAAAAAAAAAAfAAUAAAAAAAAAAAAfAAYAAAAAAAAAAAAfAAcAAAAAAAAAAAAgAP7/AAAAAAAAAAAgAP//AAAAAAAAAAAgAAAAAAAAAAAAAAAgAAEAAAAAAAAAAAAgAAIAAAAAAAAAAAAgAAMAAAAAAAAAAAAgAAQAAAAAAAAAAAAgAAUAAAAAAAAAAAAgAAYAAAAAAAAAAAAgAAcAAAAAAAAAAAAhAP7/AAAAAAAAAAAhAP//AAAAAAAAAAAhAAAAAAAAAAAAAAAhAAEAAAAAAAAAAAAhAAIAAAAAAAAAAAAhAAMAAAAAAAAAAAAhAAQAAAAAAAAAAAAhAAUAAAAAAAAAAAAhAAYAAAAAAAAAAAAhAAcAAAAAAAAAAAAVAAEAAAAAAAAAAAAWAAEAAAAAAAAAAAAiAAMAAAAAAAAAAAAiAAQAAAAAAAAAAAAjAAMAAAAAAAAAAAAjAAQAAAAAAAAAAAAiAAIAAAAAAAAAAAAjAAIAAAAAAAAAAAA=")

[node name="Enemy" parent="." instance=ExtResource("2_6761a")]
position = Vector2(780, 126)
gang = Array[ExtResource("3_sk5k4")]([SubResource("Resource_iwr0g")])
random_drop_item_count = 2

[node name="Enemy2" parent="." instance=ExtResource("2_6761a")]
position = Vector2(967, 22)
gang = Array[ExtResource("3_sk5k4")]([SubResource("Resource_v6ha0"), SubResource("Resource_gmpev"), SubResource("Resource_mkypq")])
dropped_items = Array[ExtResource("6_s8va5")]([ExtResource("7_dga24")])

[node name="Enemy3" parent="." instance=ExtResource("2_6761a")]
position = Vector2(999, 239)
gang = Array[ExtResource("3_sk5k4")]([SubResource("Resource_np2pn"), SubResource("Resource_ndtll")])
dropped_items = Array[ExtResource("6_s8va5")]([ExtResource("8_dga24")])
random_drop_item_count = 2
random_dropped_item_rarity_modifier = 10.0

[node name="BossEnemy" parent="." instance=ExtResource("2_6761a")]
position = Vector2(1140, 145)
gang = Array[ExtResource("3_sk5k4")]([SubResource("Resource_7h2jl")])
random_drop_item_count = 5

[node name="NPC" parent="." instance=ExtResource("4_oc4kc")]
position = Vector2(431, 227)

[node name="NPC2" parent="." instance=ExtResource("4_oc4kc")]
position = Vector2(639, 97)
dialogue_file_path = "res://assets/dialogues/item_drop_tutorial.csv"

[node name="PartyOriginMarker" type="Marker2D" parent="."]
unique_name_in_owner = true
position = Vector2(160, 96)

[node name="WallTileMap" parent="." instance=ExtResource("10_qxy0u")]
position = Vector2(16, 16)
tile_map_data = PackedByteArray("AAAAAAAAAQAAAAAAAAAAAAEAAQAAAAAAAAAAAAIAAQAAAAAAAAAAAAMAAQAAAAAAAAAAAAQAAQAAAAAAAAAAAAUAAQAAAAAAAAAAAAYAAQAAAAAAAAABAAAAAQAAAAAAAAABAAYAAQAAAAAAAAACAAAAAQAAAAAAAAACAAYAAQAAAAAAAAADAAAAAQAAAAAAAAADAAYAAQAAAAAAAAAEAAAAAQAAAAAAAAAEAAYAAQAAAAAAAAAFAAAAAQAAAAAAAAAFAAYAAQAAAAAAAAAGAAAAAQAAAAAAAAAGAAYAAQAAAAAAAAAHAAAAAQAAAAAAAAAHAAYAAQAAAAAAAAAIAAEAAQAAAAAAAAAIAAUAAQAAAAAAAAAJAAEAAQAAAAAAAAAJAAUAAQAAAAAAAAAKAAEAAQAAAAAAAAAKAAUAAQAAAAAAAAALAAEAAQAAAAAAAAALAAUAAQAAAAAAAAAMAAEAAQAAAAAAAAANAAEAAQAAAAAAAAAOAAEAAQAAAAAAAAAOAAUAAQAAAAAAAAAPAAEAAQAAAAAAAAAPAAUAAQAAAAAAAAAQAAEAAQAAAAAAAAAQAAUAAQAAAAAAAAARAAEAAQAAAAAAAAARAAUAAQAAAAAAAAASAAEAAQAAAAAAAAASAAUAAQAAAAAAAAATAAEAAQAAAAAAAAATAAUAAQAAAAAAAAAUAAEAAQAAAAAAAAAUAAUAAQAAAAAAAAAVAAEAAQAAAAAAAAAVAAUAAQAAAAAAAAAWAAEAAQAAAAAAAAAWAAUAAQAAAAAAAAALAAYAAQAAAAAAAAALAAcAAQAAAAAAAAALAAgAAQAAAAAAAAAMAAgAAQAAAAAAAAANAAgAAQAAAAAAAAAOAAYAAQAAAAAAAAAOAAcAAQAAAAAAAAAOAAgAAQAAAAAAAAAXAP7/AQAAAAAAAAAXAP//AQAAAAAAAAAXAAAAAQAAAAAAAAAXAAEAAQAAAAAAAAAXAAUAAQAAAAAAAAAXAAYAAQAAAAAAAAAXAAcAAQAAAAAAAAAXAAgAAQAAAAAAAAAYAAgAAQAAAAAAAAAZAAgAAQAAAAAAAAAaAAgAAQAAAAAAAAAbAAgAAQAAAAAAAAAcAP7/AQAAAAAAAAAcAAgAAQAAAAAAAAAdAP7/AQAAAAAAAAAdAAgAAQAAAAAAAAAeAP7/AQAAAAAAAAAeAAgAAQAAAAAAAAAfAP7/AQAAAAAAAAAfAAgAAQAAAAAAAAAgAP7/AQAAAAAAAAAgAAgAAQAAAAAAAAAhAP7/AQAAAAAAAAAhAAgAAQAAAAAAAAAiAP7/AQAAAAAAAAAiAP//AQAAAAAAAAAiAAAAAQAAAAAAAAAiAAEAAQAAAAAAAAAiAAIAAQAAAAAAAAAiAAYAAQAAAAAAAAAiAAcAAQAAAAAAAAAiAAgAAQAAAAAAAAAjAAIAAQAAAAAAAAAkAAIAAQAAAAAAAAAkAAMAAQAAAAAAAAAkAAQAAQAAAAAAAAAkAAUAAQAAAAAAAAAHAAEAAQAAAAAAAAAHAAUAAQAAAAAAAAAYAP7/AQAAAAAAAAAZAP7/AQAAAAAAAAAaAP7/AQAAAAAAAAAbAP7/AQAAAAAAAAAiAAUAAQAAAAAAAAAjAAUAAQAAAAAAAAA=")

[connection signal="enemy_defeated" from="BossEnemy" to="." method="_on_boss_enemy_enemy_defeated"]
[connection signal="enemy_defeated" from="BossEnemy" to="." method="_on_enemy_enemy_defeated"]

[editable path="DualGrid"]
